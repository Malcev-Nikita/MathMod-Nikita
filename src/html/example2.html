<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/main.css">
    <title>Калькулятор для решения транспортных задач</title>
</head>
<body>
    
    <section class="example example2">
        <a href="index.html"><button class="button exit">&#8592;</button></a>

        <h2>Калькулятор для решения транспортных задач</h2>

        <div class="first_step first_step_active">
            <div>
                <p>Выберите количество строк</p>
                <select class="row_count">
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                </select>
            </div>

            <div>
                <p>Выберите количество столбцов</p>
                <select class="column_count">
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5" selected="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                </select>
            </div>

        </div>

        <div class="second_step">
            <h3>Матрица тарифов</h3>
            <table class="second_step__table"></table>
            <table class="second_step__storage"></table>
            <table class="second_step__requirement"></table>
        </div>

        <div class="third_step">
            <div class="result">
                Стоимость доставки единицы груза из каждого пункта отправления в соответствующие пункты назначения задана матрицей тарифов
                <table>
                    <tr>
                        <th></th>
                        <th>B1</th>
                        <th>B2</th>
                        <th>B3</th>
                        <th>B4</th>
                        <th>B5</th>
                        <th>Запасы</th>
                    </tr>
                    <tr>
                        <th>A1</th>
                        <th>520</th>
                        <th>480</th>
                        <th>650</th>
                        <th>500</th>
                        <th>720</th>
                        <th>40</th>
                    </tr>
                    <tr>
                        <th>A2</th>
                        <th>450</th>
                        <th>525</th>
                        <th>630</th>
                        <th>560</th>
                        <th>750</th>
                        <th>70</th>
                    </tr>
                    <tr>
                        <th>Потребности</th>
                        <th>20</th>
                        <th>30</th>
                        <th>15</th>
                        <th>27</th>
                        <th>28</th>
                        <th></th>
                    </tr>
                </table>
                Проверим необходимое и достаточное условие разрешимости задачи.<br>
                <br>
                ∑a = 40 + 70 = 110<br>
                ∑b = 20 + 30 + 15 + 27 + 28 = 120<br>
                <br>
                Как видно, суммарная потребность груза в пунктах назначения превышает запасы груза на базах. Следовательно, модель исходной транспортной задачи является открытой. Чтобы получить закрытую модель, введем дополнительную (фиктивную) базу с запасом груза, равным 10 (110—120). Тарифы перевозки единицы груза из базы во все магазины полагаем равны нулю.
                Занесем исходные данные в распределительную таблицу.
                <table>
                    <tr>
                        <th></th>
                        <th>B1</th>
                        <th>B2</th>
                        <th>B3</th>
                        <th>B4</th>
                        <th>B5</th>
                        <th>Запасы</th>
                    </tr>
                    <tr>
                        <th>A1</th>
                        <th>520</th>
                        <th>480</th>
                        <th>650</th>
                        <th>500</th>
                        <th>720</th>
                        <th>40</th>
                    </tr>
                    <tr>
                        <th>A2</th>
                        <th>450</th>
                        <th>525</th>
                        <th>630</th>
                        <th>560</th>
                        <th>750</th>
                        <th>70</th>
                    </tr>
                    <tr>
                        <th>A3</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>10</th>
                    </tr>
                    <tr>
                        <th>Потребности</th>
                        <th>20</th>
                        <th>30</th>
                        <th>15</th>
                        <th>27</th>
                        <th>28</th>
                        <th></th>
                    </tr>
                </table>
                <br>
                <b>Этап I. Поиск первого опорного плана.</b><br>
                <br>
                1. Используя метод наименьшей стоимости, построим первый опорный план транспортной задачи.<br><br>
                Суть метода заключается в том, что из всей таблицы стоимостей выбирают наименьшую, и в клетку, которая ей соответствует, помещают меньшее из чисел ai, или bj.<br><br>
                Затем, из рассмотрения исключают либо строку, соответствующую поставщику, запасы которого полностью израсходованы, либо столбец, соответствующий потребителю, потребности которого полностью удовлетворены, либо и строку и столбец, если израсходованы запасы поставщика и удовлетворены потребности потребителя.<br><br>
                Из оставшейся части таблицы стоимостей снова выбирают наименьшую стоимость, и процесс распределения запасов продолжают, пока все запасы не будут распределены, а потребности удовлетворены.<br><br>
                Искомый элемент равен c<sub>21</sub>=450. Для этого элемента запасы равны 70, потребности 20. Поскольку минимальным является 20, то вычитаем его.
                <br>
                <br>
                x<sub>21</sub> = min(70,20) = 20.
                <table>
                    <tr>
                        <th></th>
                        <th>B1</th>
                        <th>B2</th>
                        <th>B3</th>
                        <th>B4</th>
                        <th>B5</th>
                        <th>Запасы</th>
                    </tr>
                    <tr>
                        <th>A1</th>
                        <th>520</th>
                        <th>480</th>
                        <th>650</th>
                        <th>500</th>
                        <th>720</th>
                        <th>40</th>
                    </tr>
                    <tr>
                        <th>A2</th>
                        <th><span>450</span></th>
                        <th>525</th>
                        <th>630</th>
                        <th>560</th>
                        <th>750</th>
                        <th>50</th>
                    </tr>
                    <tr>
                        <th>A3</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>10</th>
                    </tr>
                    <tr>
                        <th>Потребности</th>
                        <th>0</th>
                        <th>30</th>
                        <th>15</th>
                        <th>27</th>
                        <th>28</th>
                        <th></th>
                    </tr>
                </table>
                <br>  
                <br>
                Искомый элемент равен c<sub>12</sub>=480. Для этого элемента запасы равны 40, потребности 30. Поскольку минимальным является 30, то вычитаем его.
                <br>
                x12 = min(40,30) = 30.
                <table>
                    <tr>
                        <th></th>
                        <th>B1</th>
                        <th>B2</th>
                        <th>B3</th>
                        <th>B4</th>
                        <th>B5</th>
                        <th>Запасы</th>
                    </tr>
                    <tr>
                        <th>A1</th>
                        <th>520</th>
                        <th><span>480</span></th>
                        <th>650</th>
                        <th>500</th>
                        <th>720</th>
                        <th>10</th>
                    </tr>
                    <tr>
                        <th>A2</th>
                        <th><span>450</span></th>
                        <th>525</th>
                        <th>630</th>
                        <th>560</th>
                        <th>750</th>
                        <th>50</th>
                    </tr>
                    <tr>
                        <th>A3</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>10</th>
                    </tr>
                    <tr>
                        <th>Потребности</th>
                        <th>0</th>
                        <th>0</th>
                        <th>15</th>
                        <th>27</th>
                        <th>28</th>
                        <th></th>
                    </tr>
                </table>
                <br>
                <br>
                Искомый элемент равен c<sub>14</sub>=500. Для этого элемента запасы равны 10, потребности 27. Поскольку минимальным является 10, то вычитаем его.
                <br>
                14 = min(10,27) = 10.
                <table>
                    <tr>
                        <th></th>
                        <th>B1</th>
                        <th>B2</th>
                        <th>B3</th>
                        <th>B4</th>
                        <th>B5</th>
                        <th>Запасы</th>
                    </tr>
                    <tr>
                        <th>A1</th>
                        <th>520</th>
                        <th><span>480</span></th>
                        <th>650</th>
                        <th><span>500</span></th>
                        <th>720</th>
                        <th>0</th>
                    </tr>
                    <tr>
                        <th>A2</th>
                        <th><span>450</span></th>
                        <th>525</th>
                        <th>630</th>
                        <th>560</th>
                        <th>750</th>
                        <th>33</th>
                    </tr>
                    <tr>
                        <th>A3</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>10</th>
                    </tr>
                    <tr>
                        <th>Потребности</th>
                        <th>0</th>
                        <th>0</th>
                        <th>15</th>
                        <th>17</th>
                        <th>28</th>
                        <th></th>
                    </tr>
                </table>
                <br>
                <br>
                Искомый элемент равен c<sub>23</sub>=630. Для этого элемента запасы равны 33, потребности 15. Поскольку минимальным является 15, то вычитаем его.
                <br>
                x<sub>23</sub> = min(33,15) = 15.
                <table>
                    <tr>
                        <th></th>
                        <th>B1</th>
                        <th>B2</th>
                        <th>B3</th>
                        <th>B4</th>
                        <th>B5</th>
                        <th>Запасы</th>
                    </tr>
                    <tr>
                        <th>A1</th>
                        <th>520</th>
                        <th><span>480</span></th>
                        <th>650</th>
                        <th><span>500</span></th>
                        <th>720</th>
                        <th>0</th>
                    </tr>
                    <tr>
                        <th>A2</th>
                        <th><span>450</span></th>
                        <th>525</th>
                        <th><span>630</span></th>
                        <th>560</th>
                        <th>750</th>
                        <th>18</th>
                    </tr>
                    <tr>
                        <th>A3</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>10</th>
                    </tr>
                    <tr>
                        <th>Потребности</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>28</th>
                        <th></th>
                    </tr>
                </table>
                Искомый элемент равен c25=750. Для этого элемента запасы равны 18, потребности 28. Поскольку минимальным является 18, то вычитаем его.
                <br>
                x<sub>25</sub> = min(18,28) = 18.
                <table>
                    <tr>
                        <th></th>
                        <th>B1</th>
                        <th>B2</th>
                        <th>B3</th>
                        <th>B4</th>
                        <th>B5</th>
                        <th>Запасы</th>
                    </tr>
                    <tr>
                        <th>A1</th>
                        <th>520</th>
                        <th><span>480</span></th>
                        <th>650</th>
                        <th><span>500</span></th>
                        <th>720</th>
                        <th>0</th>
                    </tr>
                    <tr>
                        <th>A2</th>
                        <th><span>450</span></th>
                        <th>525</th>
                        <th><span>630</span></th>
                        <th>560</th>
                        <th><span>750</span></th>
                        <th>0</th>
                    </tr>
                    <tr>
                        <th>A3</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>10</th>
                    </tr>
                    <tr>
                        <th>Потребности</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>10</th>
                        <th></th>
                    </tr>
                </table>
                Искомый элемент равен c<sub>35</sub>=0. Для этого элемента запасы равны 10, потребности 10. Поскольку минимальным является 10, то вычитаем его.
                <br>
                x<sub>35</sub> = min(10,10) = 10.
                <table>
                    <tr>
                        <th></th>
                        <th>B1</th>
                        <th>B2</th>
                        <th>B3</th>
                        <th>B4</th>
                        <th>B5</th>
                        <th>Запасы</th>
                    </tr>
                    <tr>
                        <th>A1</th>
                        <th>520</th>
                        <th><span>480</span></th>
                        <th>650</th>
                        <th><span>500</span></th>
                        <th>720</th>
                        <th>0</th>
                    </tr>
                    <tr>
                        <th>A2</th>
                        <th><span>450</span></th>
                        <th>525</th>
                        <th><span>630</span></th>
                        <th>560</th>
                        <th><span>750</span></th>
                        <th>0</th>
                    </tr>
                    <tr>
                        <th>A3</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th><span>0</span></th>
                        <th>0</th>
                    </tr>
                    <tr>
                        <th>Потребности</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th></th>
                    </tr>
                </table>
                <br>
                <br>
                <table>
                    <tr>
                        <th></th>
                        <th>B1</th>
                        <th>B2</th>
                        <th>B3</th>
                        <th>B4</th>
                        <th>B5</th>
                        <th>Запасы</th>
                    </tr>
                    <tr>
                        <th>A1</th>
                        <th>520</th>
                        <th>480[30]</th>
                        <th>650</th>
                        <th>500[10]</th>
                        <th>720</th>
                        <th>40</th>
                    </tr>
                    <tr>
                        <th>A2</th>
                        <th>450[20]</th>
                        <th>525</th>
                        <th>630[15]</th>
                        <th>560[17]</th>
                        <th>750[18]</th>
                        <th>70</th>
                    </tr>
                    <tr>
                        <th>A3</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0[10]</th>
                        <th>10</th>
                    </tr>
                    <tr>
                        <th>Потребности</th>
                        <th>20</th>
                        <th>30</th>
                        <th>15</th>
                        <th>27</th>
                        <th>28</th>
                        <th></th>
                    </tr>
                </table>
                <br>
                <br>
                В результате получен первый опорный план, который является допустимым, так как все грузы из баз вывезены, потребность магазинов удовлетворена, а план соответствует системе ограничений транспортной задачи.
                <br>
                2. Подсчитаем число занятых клеток таблицы, их 7, а должно быть m + n - 1 = 7. Следовательно, опорный план является невырожденным.
                <br>
                Значение целевой функции для этого опорного плана равно:
                <br>
                F(x) = 480*30 + 500*10 + 450*20 + 630*15 + 560*17 + 750*18 + 0*10 = <span id="preres"></span>
                <br>
                <br>
                <b>Этап II. Улучшение опорного плана.</b>
                <br>
                Проверим оптимальность опорного плана. Найдем предварительные потенциалы ui, vj. по занятым клеткам таблицы, в которых ui + vj = cij, полагая, что u1 = 0.
                <br>
                u1 + v2 = 480; 0 + v2 = 480; v2 = 480
                <br>
                u1 + v4 = 500; 0 + v4 = 500; v4 = 500
                <br>
                u2 + v4 = 560; 500 + u2 = 560; u2 = 60
                <br>
                u2 + v1 = 450; 60 + v1 = 450; v1 = 390
                <br>
                u2 + v3 = 630; 60 + v3 = 630; v3 = 570
                <br>
                u2 + v5 = 750; 60 + v5 = 750; v5 = 690
                <br>
                u3 + v5 = 0; 690 + u3 = 0; u3 = -690
                <table>
                    <tr>
                        <th></th>
                        <th>V1</th>
                        <th>V2</th>
                        <th>V3</th>
                        <th>V4</th>
                        <th>V5</th>
                        <th>Запасы</th>
                    </tr>
                    <tr>
                        <th>U1</th>
                        <th>520</th>
                        <th>480[30]</th>
                        <th>650</th>
                        <th>500[10]</th>
                        <th>720</th>
                        <th>0</th>
                    </tr>
                    <tr>
                        <th>U2</th>
                        <th>450[20]</th>
                        <th>525</th>
                        <th>630[15]</th>
                        <th>560[17]</th>
                        <th>750[18]</th>
                        <th>60</th>
                    </tr>
                    <tr>
                        <th>U3</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0[10]</th>
                        <th>-690</th>
                    </tr>
                    <tr>
                        <th>Потребности</th>
                        <th>390</th>
                        <th>480</th>
                        <th>570</th>
                        <th>500</th>
                        <th>690</th>
                        <th></th>
                    </tr>
                </table>
                <br>
                <br>
                Опорный план не является оптимальным, так как существуют оценки свободных клеток, для которых ui + vj > cij
                <br>
                (2;2): 60 + 480 > 525; ∆22 = 60 + 480 - 525 = 15 > 0
                <br>
                Выбираем максимальную оценку свободной клетки (2;2): 525
                <br>
                Для этого в перспективную клетку (2;2) поставим знак «+», а в остальных вершинах многоугольника чередующиеся знаки «-», «+», «-».
                <table>
                    <tr>
                        <th></th>
                        <th>1</th>
                        <th>2</th>
                        <th>3</th>
                        <th>4</th>
                        <th>5</th>
                        <th>Запасы</th>
                    </tr>
                    <tr>
                        <th>1</th>
                        <th>520</th>
                        <th><span>480[30][-]</span></th>
                        <th><span>650</span></th>
                        <th><span>500[10][+]</span></th>
                        <th>720</th>
                        <th>40</th>
                    </tr>
                    <tr>
                        <th>2</th>
                        <th>450[20]</th>
                        <th><span>525[+]</span></th>
                        <th><span>630[15]</span></th>
                        <th><span>560[17][-]</span></th>
                        <th>750[18]</th>
                        <th>70</th>
                    </tr>
                    <tr>
                        <th>3</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0[10]</th>
                        <th>10</th>
                    </tr>
                    <tr>
                        <th>Потребности</th>
                        <th>20</th>
                        <th>30</th>
                        <th>15</th>
                        <th>27</th>
                        <th>28</th>
                        <th></th>
                    </tr>
                </table>
                <br>
                <br>
                Цикл приведен в таблице (2,2 → 2,4 → 1,4 → 1,2).
                <br>
                Из грузов хij стоящих в минусовых клетках, выбираем наименьшее, т.е. у = min (2, 4) = 17. Прибавляем 17 к объемам грузов, стоящих в плюсовых клетках и вычитаем 17 из Хij, стоящих в минусовых клетках. В результате получим новый опорный план.
                <table>
                    <tr>
                        <th></th>
                        <th>B1</th>
                        <th>B2</th>
                        <th>B3</th>
                        <th>B4</th>
                        <th>B5</th>
                        <th>Запасы</th>
                    </tr>
                    <tr>
                        <th>A1</th>
                        <th>520</th>
                        <th>480[13]</th>
                        <th>650</th>
                        <th>500[27]</th>
                        <th>720</th>
                        <th>40</th>
                    </tr>
                    <tr>
                        <th>A2</th>
                        <th>450[20]</th>
                        <th>525[17]</th>
                        <th>630[15]</th>
                        <th>560</th>
                        <th>750[18]</th>
                        <th>70</th>
                    </tr>
                    <tr>
                        <th>A3</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0[10]</th>
                        <th>10</th>
                    </tr>
                    <tr>
                        <th>Потребности</th>
                        <th>20</th>
                        <th>30</th>
                        <th>15</th>
                        <th>27</th>
                        <th>28</th>
                        <th></th>
                    </tr>
                </table>
                <br>
                <br>
                Проверим оптимальность опорного плана. Найдем предварительные потенциалы ui, vj. по занятым клеткам таблицы, в которых ui + vj = cij, полагая, что u1 = 0.
                <br>
                u1 + v2 = 480; 0 + v2 = 480; v2 = 480
                <br>
                u2 + v2 = 525; 480 + u2 = 525; u2 = 45
                <br>
                u2 + v1 = 450; 45 + v1 = 450; v1 = 405
                <br>
                u2 + v3 = 630; 45 + v3 = 630; v3 = 585
                <br>
                u2 + v5 = 750; 45 + v5 = 750; v5 = 705
                <br>
                u3 + v5 = 0; 705 + u3 = 0; u3 = -705
                <br>
                u1 + v4 = 500; 0 + v4 = 500; v4 = 500
                <table>
                    <tr>
                        <th></th>
                        <th>V1</th>
                        <th>V2</th>
                        <th>V3</th>
                        <th>V4</th>
                        <th>V5</th>
                        <th>Запасы</th>
                    </tr>
                    <tr>
                        <th>U1</th>
                        <th>520</th>
                        <th>480[13]</th>
                        <th>650</th>
                        <th>500[27]</th>
                        <th>720</th>
                        <th>0</th>
                    </tr>
                    <tr>
                        <th>U2</th>
                        <th>450[20]</th>
                        <th>525[17]</th>
                        <th>630[15]</th>
                        <th>560</th>
                        <th>750[18]</th>
                        <th>45</th>
                    </tr>
                    <tr>
                        <th>U3</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0</th>
                        <th>0[10]</th>
                        <th>-705</th>
                    </tr>
                    <tr>
                        <th>Потребности</th>
                        <th>405</th>
                        <th>480</th>
                        <th>585</th>
                        <th>500</th>
                        <th>705</th>
                        <th></th>
                    </tr>
                </table>
                <br>
                <br>
                Опорный план является оптимальным, так все оценки свободных клеток удовлетворяют условию u<sub>i</sub> + v<sub>j</sub> ≤ c<sub>ij</sub>.
                <br>
                Минимальные затраты составят: F(x) = 480*13 + 500*27 + 450*20 + 525*17 + 630*15 + 750*18 + 0*10 = <span id="res"></span>
                <br>
                <br>
                <b>Анализ оптимального плана.</b>
                <br>
                Из 1-го склада необходимо груз направить в 2-й магазин (13 ед.), в 4-й магазин (27 ед.)
                <br>
                Из 2-го склада необходимо груз направить в 1-й магазин (20 ед.), в 2-й магазин (17 ед.), в 3-й магазин (15 ед.), в 5-й магазин (18 ед.)
                <br>
                Потребность 5-го магазина остается неудовлетворенной на 10 ед.
                <br>
                Оптимальный план является вырожденным, так как базисная переменная x35=0.
            </div>
        </div>

        <div class="section_button">
            <button class="button back_step">Назад</button>
            <button class="button next_step">Далее</button>
        </div>
    </section>

    <section class="error">
        <img src="/image/icon/close.png" class="error__close">
        <p class="error__text"></p>
    </section>

    <script type="text/javascript" src="/eel.js"></script>
    <script src="/js/Class/error.js"></script>
    <script src="/js/Class/button_step.js"></script>
    <script src="/js/button.js"></script>
    <script src="/js/example2.js"></script>
    <script src="/js/result_example2.js"></script>
</body>
</html>